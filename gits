#!/usr/bin/env bash

action=$1

dir=`dirname $0`

. ${dir}/util/kit.sh

git_diff() {
  git add --all
  loglog 'status:'
  git status
  git diff
  git diff --cached
}

git_up() {
  git_diff
  git commit -a
  git push
}

git_status() {
  loglog 'all remotes:'
  git remote

  loglog 'all branches:'
  git branch

  loglog 'latest 5 tags:'
  git tag | tail -5

  loglog 'stash list:'
  git stash list

  loglog 'repo status:'
  git status
}

case $action in
  diff)
    git_diff
  ;;
  up)
    git_up
  ;;
  *)
    git_status
  ;;
esac
